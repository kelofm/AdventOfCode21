print((lambda B:B[-1]*B[-2]*B[-3])((lambda l,b:sorted([l.count(s) for s in b]))(*(lambda l,I,S:(l,set((lambda a,i,b:list((lambda a,B,P:((lambda p,B,A,P:[B,B.__setitem__(0,B[0]-1) if A[p]<B[0] else None,A.__setitem__(p,B[0]),[P.append(n) for n in I(A,p)]][0][0] if A[p]!=9 and A[p]!=B[0] else B[0])(p,B,a,P) for p in P))(a,[b],[i]))[-1])(l,s,-1-k) for k,s in enumerate(list(S(l))))))(*(lambda I:([int(c) for c in open("input").read() if c and c!='\n'],I,lambda a:(i for i,v in enumerate(a) if all(v<a[k] for k in I(a,i)))))(lambda a,i: (k for k in [i-100,i+100]+([i-1] if i%100 else [])+([i+1] if (i+1)%100 else []) if 0<=k and k<len(a)))))))
