print((lambda s,v:s*v)(*((lambda r: lambda V,M: r(r,V,M,-1))(lambda s,V,M,I:[sum(v for v in M[0][25*M[1]:25*(M[1]+1)] if v!=-1),V[I]] if M[1]!=-1 else s(s,V,(lambda r:[r,next((j for j,m in enumerate([r[25*k:25*(k+1)] for k in range(len(r)//25)]) if any(any(l.count(-1)==5 for l in t) for t in ((m[5*i:5*i+5],m[i:25:5]) for i in range(5)))),-1)])([-1 if v==V[I+1] else v for v in M[0]]),I+1)))(*(lambda f: [[int(v) for v in f.readline().split(',') if v],[sum(([int(v) for v in l.split(' ') if v.strip()] for l in f.readlines() if l),[]),-1]])(open("input")))))
