print((lambda X,Y:sum(sum(any(t in R for t in L) for R in Y) for L in X))(*(lambda a,b,c,d,x,y:([(lambda F,L:[t for t in [i*F(L(v)-L(v-i),a,b) for i in range(-2*c+2)] if 0<t])(lambda v,l,r:-1 if v<l else -1 if r<v else 1,lambda v:0 if v<0 else v*(v+1)/2) for v in x],[(lambda F,D:[t+1 for t,V in enumerate([F(sum(D),c,d,D) for V in D]) if V])(lambda v,l,r,D:[0 if v>r else 1,D.append(D[-1]-1)][0] if v>=l else [0,D.clear()][0],[v]) for v in y]))(*(lambda a,b,c,d:(a,b,c,d,list(range(int(-(-((lambda c:(lambda V:[[v,V.append((v+c/v)/2) if abs(v*v-c)>1e-9 else None][0] for v in V ][-1])([1]))(1+8*a)-1)//2)),b+1)),list(range(c,-c))))(*(lambda a,b,c,d,S:(int(S[a:b-2]),int(S[b:c-4]),int(S[c:d-2]),int(S[d:])))(*(lambda S:(S.find("x=")+2,S.find('.')+2,S.find("y=")+2,S.rfind('.')+1,S))(open("input").read()))))))